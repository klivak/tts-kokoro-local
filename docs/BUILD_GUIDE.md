# üèóÔ∏è Kokoro TTS - Build Guide

–¶–µ–π –ø–æ—Å—ñ–±–Ω–∏–∫ –ø–æ–∫–∞–∑—É—î, —è–∫ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∞–≤—Ç–æ–Ω–æ–º–Ω—ñ –≤–∏–∫–æ–Ω—É–≤–∞–Ω—ñ —Ñ–∞–π–ª–∏ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º.

## üìã –°–∏—Å—Ç–µ–º–Ω—ñ –≤–∏–º–æ–≥–∏

### –ó–∞–≥–∞–ª—å–Ω—ñ –≤–∏–º–æ–≥–∏:
- Python 3.8+ 
- Git
- –Ü–Ω—Ç–µ—Ä–Ω–µ—Ç-–∑'—î–¥–Ω–∞–Ω–Ω—è (–¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–æ–¥–µ–ª–µ–π)

### –°–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –≤–∏–º–æ–≥–∏ –ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö:

#### Windows:
- Windows 10/11
- Visual Studio Build Tools (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è –∑ Python)

#### macOS:
- macOS 10.15+ (Catalina –∞–±–æ –Ω–æ–≤—ñ—à–µ)
- Xcode Command Line Tools: `xcode-select --install`
- Homebrew (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è DMG): `brew install create-dmg`

#### Linux:
- Ubuntu 18.04+ –∞–±–æ –µ–∫–≤—ñ–≤–∞–ª–µ–Ω—Ç
- –ë–∞–∑–æ–≤—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —Ä–æ–∑—Ä–æ–±–∫–∏: `sudo apt install build-essential`

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1. –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞
```bash
# –ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
git clone <your-repo-url>
cd tts-kokoro-local

# –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –¥–ª—è –∑–±—ñ—Ä–∫–∏
pip install -r requirements_build.txt

# –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –º–æ–¥–µ–ª—ñ (—è–∫—â–æ —â–µ –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ)
python download_model.py
```

### 2. –ó–±—ñ—Ä–∫–∞ –¥–ª—è –≤–∞—à–æ—ó –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏

#### Windows:
```cmd
# –ó–∞–ø—É—Å—Ç—ñ—Ç—å build —Å–∫—Ä–∏–ø—Ç
build_windows.bat

# –ê–±–æ –≤—Ä—É—á–Ω—É
python build_release.py
```

#### macOS:
```bash
# –ó—Ä–æ–±—ñ—Ç—å —Å–∫—Ä–∏–ø—Ç –≤–∏–∫–æ–Ω—É–≤–∞–Ω–∏–º
chmod +x build_macos.sh

# –ó–∞–ø—É—Å—Ç—ñ—Ç—å –∑–±—ñ—Ä–∫—É
./build_macos.sh

# –ê–±–æ –≤—Ä—É—á–Ω—É
python3 build_release.py
```

#### Linux:
```bash
# –í—Ä—É—á–Ω—É
python3 build_release.py
```

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ª—ñ–∑—É

–ü—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ—ó –∑–±—ñ—Ä–∫–∏ –≤–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ:

### Windows (`release_windows/`):
```
release_windows/
‚îú‚îÄ‚îÄ KokoroTTS.exe           # –û—Å–Ω–æ–≤–Ω–∏–π –¥–æ–¥–∞—Ç–æ–∫
‚îú‚îÄ‚îÄ Launch_KokoroTTS.bat    # –õ–∞—É–Ω—á–µ—Ä
‚îî‚îÄ‚îÄ README.md               # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
```

### macOS (`release_macos/`):
```
release_macos/
‚îú‚îÄ‚îÄ KokoroTTS.app/          # –î–æ–¥–∞—Ç–æ–∫ macOS
‚îú‚îÄ‚îÄ Launch_KokoroTTS.command # –õ–∞—É–Ω—á–µ—Ä
‚îî‚îÄ‚îÄ README.md               # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
```

### Linux (`release_linux/`):
```
release_linux/
‚îú‚îÄ‚îÄ KokoroTTS               # –í–∏–∫–æ–Ω—É–≤–∞–Ω–∏–π —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ launch_kokoro_tts.sh    # –õ–∞—É–Ω—á–µ—Ä
‚îî‚îÄ‚îÄ README.md               # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
```

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–±—ñ—Ä–∫–∏

### –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ñ–∞–π–ª–∏ –≤ –∑–±—ñ—Ä–∫—É
–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ `build_release.py` –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤:

```python
datas=[
    ('kokoro-v1.0.onnx', '.'),
    ('voices-v1.0.bin', '.'),
    ('README.md', '.'),
    ('your_file.txt', '.'),  # –î–æ–¥–∞–π—Ç–µ —Å–≤—ñ–π —Ñ–∞–π–ª
],
```

### –ó–º—ñ–Ω–∞ —ñ–∫–æ–Ω–∫–∏
1. **Windows**: –î–æ–¥–∞–π—Ç–µ `icon.ico` —É –∫–æ—Ä—ñ–Ω—å –ø—Ä–æ—î–∫—Ç—É
2. **macOS**: –î–æ–¥–∞–π—Ç–µ `icon.icns` —É –∫–æ—Ä—ñ–Ω—å –ø—Ä–æ—î–∫—Ç—É
3. **Linux**: –Ü–∫–æ–Ω–∫–∏ –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å—Å—è PyInstaller

### –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è —Ä–æ–∑–º—ñ—Ä—É
–î–æ–¥–∞–π—Ç–µ –¥–æ –∫–æ–º–∞–Ω–¥–∏ PyInstaller:
```python
"--exclude-module", "matplotlib",
"--exclude-module", "scipy",
"--exclude-module", "pandas",
```

## üéØ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ä–µ–ª—ñ–∑—É

### –ü–µ—Ä–µ–¥ —Ä–µ–ª—ñ–∑–æ–º:
1. **–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å**: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤—Å—ñ –≥–æ–ª–æ—Å–∏ —Ç–∞ —Ñ—É–Ω–∫—Ü—ñ—ó
2. **–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å**: –ü—Ä–æ—Ç–µ—Å—Ç—É–π—Ç–µ –Ω–∞ —Ä—ñ–∑–Ω–∏—Ö —Ç–µ–∫—Å—Ç–∞—Ö
3. **–°—É–º—ñ—Å–Ω—ñ—Å—Ç—å**: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞ —á–∏—Å—Ç—ñ–π —Å–∏—Å—Ç–µ–º—ñ

### –¢–µ—Å—Ç–æ–≤—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó:
```
‚úÖ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–∏
‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∞—É–¥—ñ–æ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –≥–æ–ª–æ—Å—É
‚úÖ –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤
‚úÖ –ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –ø–µ—Ä–µ–≥–ª—è–¥ –≥–æ–ª–æ—Å—ñ–≤
‚úÖ –ó–º—ñ–Ω–∞ —à–≤–∏–¥–∫–æ—Å—Ç—ñ –º–æ–≤–ª–µ–Ω–Ω—è
‚úÖ –†–æ–±–æ—Ç–∞ –∑ –¥–æ–≤–≥–∏–º–∏ —Ç–µ–∫—Å—Ç–∞–º–∏
‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
```

## üì§ –†–æ–∑–ø–æ–≤—Å—é–¥–∂–µ–Ω–Ω—è

### Windows:
1. **ZIP –∞—Ä—Ö—ñ–≤**: –°—Ç–∏—Å–Ω—ñ—Ç—å –ø–∞–ø–∫—É `release_windows/`
2. **Installer**: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ NSIS –∞–±–æ Inno Setup
3. **Portable**: –ü—Ä–æ—Å—Ç–æ —Ä–æ–∑–ø–æ–≤—Å—é–¥–∂—É–π—Ç–µ –ø–∞–ø–∫—É

### macOS:
1. **ZIP –∞—Ä—Ö—ñ–≤**: –°—Ç–∏—Å–Ω—ñ—Ç—å –ø–∞–ø–∫—É `release_macos/`
2. **DMG**: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ `create-dmg` (–≤–∫–ª—é—á–µ–Ω–æ –≤ `build_macos.sh`)
3. **App Store**: –ü–æ—Ç—Ä—ñ–±–µ–Ω Apple Developer Account

### Linux:
1. **TAR.GZ**: `tar -czf KokoroTTS.tar.gz release_linux/`
2. **AppImage**: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ `appimage-builder`
3. **Flatpak**: –°—Ç–≤–æ—Ä—ñ—Ç—å –º–∞–Ω—ñ—Ñ–µ—Å—Ç Flatpak

## üêõ –í–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

### –ü–æ–º–∏–ª–∫–∏ –∑–±—ñ—Ä–∫–∏:

#### "ModuleNotFoundError: No module named 'kokoro_onnx'"
```bash
pip install kokoro-onnx
```

#### "PyInstaller command not found"
```bash
pip install pyinstaller
```

#### macOS: "cannot be opened because the developer cannot be verified"
```bash
# –î–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤:
# Right-click ‚Üí Open ‚Üí Open

# –î–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤:
codesign --force --deep --sign - KokoroTTS.app
```

#### Windows: "MSVCP140.dll was not found"
–í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å Microsoft Visual C++ Redistributable

### –ü–æ–º–∏–ª–∫–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è:

#### "Failed to load model"
–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å —Ñ–∞–π–ª—ñ–≤ –º–æ–¥–µ–ª—ñ –≤ –ø–∞–ø—Ü—ñ –∑ –≤–∏–∫–æ–Ω—É–≤–∞–Ω–∏–º —Ñ–∞–π–ª–æ–º

#### "Audio device not found"
–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∞—É–¥—ñ–æ –¥—Ä–∞–π–≤–µ—Ä–∏ —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏

## üìä –†–æ–∑–º—ñ—Ä–∏ —Ä–µ–ª—ñ–∑—ñ–≤

–ü—Ä–∏–±–ª–∏–∑–Ω—ñ —Ä–æ–∑–º—ñ—Ä–∏ –ø—ñ—Å–ª—è –∑–±—ñ—Ä–∫–∏:

- **Windows**: ~200-300 MB
- **macOS**: ~250-350 MB  
- **Linux**: ~200-300 MB

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è

### GitHub Actions (–ø—Ä–∏–∫–ª–∞–¥):
```yaml
name: Build Releases

on:
  release:
    types: [published]

jobs:
  build-windows:
    runs-on: windows-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-python@v4
        with:
          python-version: '3.9'
      - run: pip install -r requirements_build.txt
      - run: python download_model.py
      - run: python build_release.py
      - uses: actions/upload-artifact@v3
        with:
          name: windows-release
          path: release_windows/
```

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–ü—Ä–∏ –≤–∏–Ω–∏–∫–Ω–µ–Ω–Ω—ñ –ø—Ä–æ–±–ª–µ–º:

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å–∏—Å—Ç–µ–º–Ω—ñ –≤–∏–º–æ–≥–∏
2. –û–Ω–æ–≤—ñ—Ç—å Python —Ç–∞ pip
3. –û—á–∏—Å—Ç—ñ—Ç—å –∫–µ—à pip: `pip cache purge`
4. –ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Å–∏—Å—Ç–µ–º—É
5. –°—Ç–≤–æ—Ä—ñ—Ç—å issue –∑ –ª–æ–≥–∞–º–∏ –ø–æ–º–∏–ª–æ–∫

---

**–í–µ—Ä—Å—ñ—è**: 1.0
**–û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è**: 2024
**–ü–ª–∞—Ç—Ñ–æ—Ä–º–∏**: Windows, macOS, Linux 